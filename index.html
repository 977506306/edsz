<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>欢迎访问</title>
</head>
<body>
    <iframe id="contentFrame" style="width: 100%; height: 100vh; border: none;"></iframe>

    <script>
        // 获取URL参数
        function getQueryParam(param) {
            try {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(param);
            } catch (e) {
                console.error('解析URL参数失败:', e);
                return null;
            }
        }

        // 页面加载后执行
        window.onload = function() {
            try {
                // 获取并解码URL参数
                const base64Url = getQueryParam('u');
                
                if (!base64Url) {
                    throw new Error('缺少必要的URL参数: u');
                }
                
                // 解码并设置iframe源
                const targetUrl = atob(base64Url);
                document.getElementById('contentFrame').src = targetUrl;
                
            } catch (error) {
                console.error('加载内容时出错:', error);
                // 错误处理（可选）
                document.getElementById('contentFrame').srcdoc = `
                    <div style="padding: 20px; font-family: Arial, sans-serif;">
                        <h1>加载失败</h1>
                        <p>错误信息: ${error.message}</p>
                    </div>
                `;
            }
        };
    </script>

    <!-- 淘宝跟踪脚本（保留但优化） -->
    <script>
        (function() {
            try {
                const script = document.createElement('script');
                script.id = 'tb-beacon-aplus';
                script.src = (location.protocol === 'https:' ? 'https:' : 'http:') + '//g.alicdn.com/alilog/mlog/aplus_v2.js';
                script.setAttribute('exparams', 'category=&userid=&aplus&yunid=&&trid=ac11000117499818642894465e203b&asid=AQAAAAComk5oSAZDTgAAAAAtu5tFCJAbpA==');
                document.body.insertBefore(script, document.body.firstChild);
            } catch (e) {
                console.error('加载淘宝跟踪脚本失败:', e);
            }
        })();
    </script>
</body>
</html>
